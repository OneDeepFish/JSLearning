href"),this.toAbsoluteUrl(c)):(d=this.findPieceNode(a),query.hasNodeAttributeWithValue(d,"href")?(c=query.getAttributeValueFromNode(d,"href"),this.toAbsoluteUrl(c)):void 0)},isSameDomain:function(a){if(!a||!a.indexOf)return!1;if(0===a.indexOf(this.getLocation().origin))return!0;var b=a.indexOf(this.getLocation().host);return 8>=b&&b>=0?!0:!1},removeDomainIfIsInLink:function(a){var b="^https?://[^/]+",c="^.*//[^/]+";return a&&a.search&&-1!==a.search(new RegExp(b))&&this.isSameDomain(a)&&(a=a.replace(new RegExp(c),""),a||(a="/")),a},findMediaUrlInNode:function(a){var b,c,d,e,f,g;if(a){if(b=["img","embed","video","audio"],c=a.nodeName.toLowerCase(),-1!==indexOfArray(b,c)&&query.findFirstNodeHavingAttributeWithValue(a,"src"))return d=query.findFirstNodeHavingAttributeWithValue(a,"src"),query.getAttributeValueFromNode(d,"src");if("object"===c&&query.hasNodeAttributeWithValue(a,"data"))return query.getAttributeValueFromNode(a,"data");if("object"===c){if(e=query.findNodesByTagName(a,"param"),e&&e.length)for(f=0;f<e.length;f++)if("movie"===query.getAttributeValueFromNode(e[f],"name")&&query.hasNodeAttributeWithValue(e[f],"value"))return query.getAttributeValueFr